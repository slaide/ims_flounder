<!DOCTYPE html>
<html lang="eng">
    <head>
        <title>My schedule</title>
        <link rel="stylesheet" type="text/css" href="./flounder.css">
    </head>
        <body>
            <!--Navigation menu for users-->
            <nav class="menu">
            <ul>
                <li><a href="#">Book an instrument</a></li>
                <li><a href="#">My Schedule</a></li>
                <li><a href="#">Administrator</a></li>
                <li><a href="#">Maintenance</a></li>
            </ul>
            </nav>

            <h1>My Schedule</h1>
            <div id="my_schedule"></div>

              <script>

               //SSN from storage
               var ssn = localStorage.getItem(ssn);

               function getBookings() {

                  //XML part
                  var xhttp = new XMLHttpRequest();
                  xhttp.open("POST", "/get_bookings", true);
                  xhttp.onreadystatechange = function() {
                     if (this.readyState == 4 && this.status == 200) {
                        var bookings = JSON.parse(this.responseText);

                        //Error handling
                        if (bookings.error) {
                           console.log(error);
                           return;
                        }
                        
                        //Dunno?? 
                        let schedule = document.querySelector('#my_schedule');
                        
                        //Container element for list
                        let container = document.createElement('div');

                        //Make list 
                        let list = document.createElement('ul');

                        //Add to page
                        document.getElementsByTagName('body')[0].appendChild(container);
                        container.appendChild(list); 
                        
                        for (let i = 0; i < bookings.length; i++) {
                        // create an item for each one
                        listItem = document.createElement('li');

                        // Add the item text
                        listItem.innerHTML = bookings[i];

                        // Add listItem to the listElement
                        listElement.appendChild(listItem);
                        }
                     }  
                  };
                  xhttp.send();
               }
              </script>

              <h1>Revoke a booking</h1>
            <label for="bookings">Choose a booking:</label>
            <select name="bookings" id="bookings">
            <option value="1">1</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            </select>
              </div>
        </body>
</html>
